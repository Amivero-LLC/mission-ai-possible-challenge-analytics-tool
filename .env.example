# Backend Configuration
# BACKEND_PORT is shared between uvicorn and docker-compose so the API only needs
# to be updated in one place to remap the host/container port.
BACKEND_PORT=5098

# Database Configuration
# Default uses a local SQLite file in data/mission_dashboard.sqlite.
# Switch to PostgreSQL by setting DB_ENGINE=postgres and filling out the connection settings.
DB_ENGINE=sqlite
# DB_HOST=postgres
# DB_PORT=5432
# DB_NAME=mission_dashboard
# DB_USER=postgres
# DB_PASSWORD=change_me

# Frontend Configuration
# FRONTEND_PORT keeps the Next.js dev server and docker port bindings aligned.
FRONTEND_PORT=5099
# NEXT_PUBLIC_API_BASE_URL matches BACKEND_PORT so browser calls hit the exposed API.
NEXT_PUBLIC_API_BASE_URL=http://localhost:5098
# API_BASE_URL is used inside docker to talk to the backend service directly.
API_BASE_URL=http://backend:5098

# OpenWebUI API Configuration (for live data - REQUIRED for dashboard)
# Get your API key from: Settings -> Account -> API Keys in OpenWebUI
OPEN_WEBUI_HOSTNAME=https://amichat.prod.amivero-solutions.com
OPEN_WEBUI_API_KEY=your_api_key_here

# Mission Data Files (optional - uses auto-discovery and live API if not set)
# MISSION_DATA_FILE=
# MISSION_USER_NAMES_FILE=

# Authentication Configuration
# AUTH_MODE controls available authentication flows:
#   DEFAULT - local username/password only
#   HYBRID  - local credentials + Microsoft Office 365 OAuth
#   OAUTH   - Microsoft Office 365 OAuth only
AUTH_MODE=HYBRID

# Backend session secrets
SESSION_SECRET=change_me_secret_value
SESSION_COOKIE_SECURE=false
# SESSION_COOKIE_DOMAIN=your.domain.tld
SESSION_COOKIE_SAME_SITE=strict

# Microsoft Office 365 / Entra ID OAuth
OAUTH_TENANT_ID=00000000-0000-0000-0000-000000000000
OAUTH_CLIENT_ID=00000000-0000-0000-0000-000000000000
OAUTH_CLIENT_SECRET=replace_me
OAUTH_REDIRECT_URL=http://localhost:5099/auth/oauth/callback
OAUTH_SCOPES=openid profile email offline_access

# Frontend awareness of auth mode
NEXT_PUBLIC_AUTH_MODE=${AUTH_MODE}

# SMTP (optional, required to deliver password reset / verification emails)
# SMTP_HOST=
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_USE_TLS=true

# Feature flags
FEATURE_ROLE_USER_ENABLED=false
